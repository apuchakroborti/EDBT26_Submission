The script starts by importing necessary modules: `os`, `matplotlib` and its submodules, `mpl_toolkits.basemap`, and `numpy`.

It then defines a constant `USE_NETCDF4` set to `False`, which determines whether to use the `netCDF4` library or `h5py` to read an HDF5 file.

The main function `run` takes an HDF5 file path as input and performs the following steps:

1. Reads the HDF5 file using either `netCDF4` or `h5py`, depending on `USE_NETCDF4`.
2. Accesses two datasets: `/Emissivity/Mean` (3D array) and `/Geolocation/Latitude` and `/Geolocation/Longitude` (1D arrays).
3. Retrieves the `Description` attribute from the `Mean` dataset.

The function then processes the data by:

1. Replacing -9999 with NaN and scaling the data.
2. Masking NaN values using `numpy.ma.masked_where`.

For visualization, it uses `Basemap` to create a map with an equidistant cylindrical projection, draws coastlines and grids, plots the emissivity data, and adds a colorbar and labels.

Finally, the function saves the plot as a PNG file based on the input HDF5 file name. The main script checks for an environment variable `HDFEOS_ZOO_DIR` to construct the input file path and calls the `run` function accordingly.