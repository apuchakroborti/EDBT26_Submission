"""
        You are an assistant designed to break down a complex data science or geospatial analysis task 
        into smaller, focused sub-queries. Each sub-query must target a specific technical domain 
        so that relevant documentation, examples, or code can be retrieved using a vector database.

        Given the user query, return 3 clearly separated sub-queries:

        1. HDF5 Dataset Access:
        Focus only on `h5py` such as accessing file with extensions H5, h5, HE5, he5, HDF5, or hdf5, 
        accessing datasets or attributes, dataset paths (like `/Grid/cloudWater`), and metadata.

        2. NumPy-based Data Preprocessing:
        Focus only on how to handle `_FillValue`, apply masks using NumPy (`np.where`, `np.ma.masked_where`), and compute or filter data using `min`, `max`, or 
        other preprocessing logic.

        3. Map Plotting and Visualization:
        Focus only on how to use `matplotlib`, `mpl_toolkits.basemap`, or `cartopy` to visualize geospatial data, configure projections, draw coastlines, 
        meridians, parallels, and apply colorbars or titles.

        
        User Query:
            Create a combination chart from the "96_h5_data.h5" dataset, which contains sales data for various mobile phone brands across different quarters of the year. The datasets in the h5 file are ["Quarter", "Samsung", "Nokia/Microsoft", "Apple", "LG", "ZTE", "Huawei"]. For each brand, create a box plot to represent the distribution of their sales data. On each box plot, display all the individual sales data points for that brand. Additionally, calculate the average sales for each brand and draw a line connecting these average values across the box plots. Use a consistent color scheme for the same quarter across different years, varying the shades to distinguish between years. Include a legend to aid in understanding the color coding.

        ---
        Note: return only the the response of sub-queries only based on the below format, not explanation, not python code, and node additional text needed
        Return format:

        HDF5 Dataset Access Sub-query:
        <generated sub-query>

        NumPy Data Preprocessing Sub-query:
        <generated sub-query>

        Plotting and Visualization Sub-query:
        <generated sub-query>
        """

<think>
Alright, I need to break down the user's query into three specific sub-queries as per the guidelines. Let me go through each part step by step.

First, the HDF5 Dataset Access. The user is working with a file named "96_h5_data.h5" and mentions several datasets: ["Quarter", "Samsung", "Nokia/Microsoft", "Apple", "LG", "ZTE", "Huawei"]. So, I should focus on how to access these specific datasets using h5py. The sub-query needs to include the file name, list of datasets, and any relevant paths or metadata.

Next, for NumPy-based Data Preprocessing, the user wants to calculate average sales for each brand. This involves processing the data arrays from the HDF5 file. I should mention calculating averages and possibly handling any missing or invalid data points, though the original query doesn't specify _FillValue, but it's good practice to consider.

Lastly, the Plotting and Visualization part requires creating a combination chart with box plots for each brand, showing individual data points, and connecting average sales with a line. The color scheme needs to be consistent per quarter across years, using varying shades. Including a legend is also important. I'll need to specify the use of matplotlib or similar libraries, configuring the plot elements like coastlines (though maybe not applicable here), meridians, parallels, colorbars, and titles.

Putting it all together, each sub-query should be clear and focused on its respective domain without overlapping with others.
</think>

HDF5 Dataset Access Sub-query:
How to access datasets ["Quarter", "Samsung", "Nokia/Microsoft", "Apple", "LG", "ZTE", "Huawei"] from the "96_h5_data.h5" file using h5py, including their paths and metadata.

NumPy Data Preprocessing Sub-query:
How to calculate average sales for each brand from NumPy arrays, handling any _FillValue or invalid data points.

Plotting and Visualization Sub-query:
How to create a combination chart with box plots for each brand's sales data, overlay individual data points, draw lines connecting average values, use a consistent color scheme per quarter across years, and include a legend using matplotlib.