"""
        You are an assistant designed to break down a complex data science or geospatial analysis task 
        into smaller, focused sub-queries. Each sub-query must target a specific technical domain 
        so that relevant documentation, examples, or code can be retrieved using a vector database.

        Given the user query, return 3 clearly separated sub-queries:

        1. HDF5 Dataset Access:
        Focus only on `h5py` such as accessing file with extensions H5, h5, HE5, he5, HDF5, or hdf5, 
        accessing datasets or attributes, dataset paths (like `/Grid/cloudWater`), and metadata.

        2. NumPy-based Data Preprocessing:
        Focus only on how to handle `_FillValue`, apply masks using NumPy (`np.where`, `np.ma.masked_where`), and compute or filter data using `min`, `max`, or 
        other preprocessing logic.

        3. Map Plotting and Visualization:
        Focus only on how to use `matplotlib`, `mpl_toolkits.basemap`, or `cartopy` to visualize geospatial data, configure projections, draw coastlines, 
        meridians, parallels, and apply colorbars or titles.

        
        User Query:
            A Python script to read an HDF-EOS5 file and plot BrO data against pressure levels with the following specifications:

1. Import Libraries: 
   Include os, matplotlib as mpl, matplotlib.pyplot as plt, mpl_toolkits.basemap.Basemap, numpy as np, datetime, matplotlib.ticker.FormatStrFormatter, and matplotlib.ticker.ScalarFormatter.

2. Read HDF-EOS5 File: 
   - Extract BrO data from the path `/HDFEOS/SWATHS/BrO/Data Fields/BrO`.
   - Retrieve pressure data from `/Geolocation Fields/Pressure`.
   - Obtain time data from `/Geolocation Fields/Time`.

3. Data Extraction:
   - Slice BrO data to get the 399th index along the x-axis and all data along the y-axis.
   - Convert BrO and pressure data into 1D arrays for plotting.

4. Attributes Handling: Extract attributes like MissingValue, _FillValue, Title, and Units from the BrO dataset.

5. Plotting:
   - Use matplotlib to plot BrO data (indices 12-16) against corresponding pressure values.
   - Set the x-axis label using BrO's title and units.
   - Set the y-axis label using pressure units.
   - Title the plot with BrO's title and the file's basename.

6. Plot Configuration:
   - Invert the y-axis.
   - Apply a logarithmic scale to the y-axis.
   - Use ScalarFormatter for minor ticks and FormatStrFormatter for major ticks.
   - At the end, the gca is set with invert_yaxis, yscale value of log, minor formatter is ScalarFormatter, and major formatter is FormatStrFormatter


        ---
        Note: return only the the response of sub-queries only based on the below format, not explanation, not python code, and node additional text needed
        Return format:

        HDF5 Dataset Access Sub-query:
        <generated sub-query>

        NumPy Data Preprocessing Sub-query:
        <generated sub-query>

        Plotting and Visualization Sub-query:
        <generated sub-query>
        """

HDF5 Dataset Access Sub-query:
How to use h5py to open an HDF‑EOS5 file, read the BrO dataset at `/HDFEOS/SWATHS/BrO/Data Fields/BrO`, extract its attributes (MissingValue, _FillValue, Title, Units), and also read the pressure and time geolocation fields `/Geolocation Fields/Pressure` and `/Geolocation Fields/Time`?

NumPy Data Preprocessing Sub-query:
Given a BrO array from h5py, how to slice to the 399th index along the x‑axis, flatten to 1‑D, handle missing values using the dataset’s _FillValue, and create masks or replace missing values with `np.where` or `np.ma.masked_where`?

Plotting and Visualization Sub-query:
Using matplotlib (and optionally cartopy or basemap), how to plot BrO values (indices 12‑16) against pressure levels, set x‑axis label with BrO title and units, y‑axis label with pressure units, invert the y‑axis, apply a logarithmic scale, configure minor ticks with `ScalarFormatter` and major ticks with `FormatStrFormatter`, and add a title that includes the BrO title and the file’s basename?